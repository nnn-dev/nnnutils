.TH LAUNCH.SH 1 LOCAL

.SH NAME
launch.sh - lance une action

.SH SYNOPSIS
launch.sh 
.I [options]
.B -l

launch.sh
.I [options] 
.I <module>
.B [launch]

.SH DESCRIPTION
.B launch.sh
peut être utilisé pour lancer une action pour les modules d'une application.

Avec ce script, vous pouvez gérer facilement une application utilisant de nombreux modules.

.SH OPTIONS
.TP 2
-l
affiche la liste des modules.

.TP
-M <répertoire>
indique l'emplacement des fichiers de modules (voir MODULES).
défaut : launch-modules

.TP
-E <fichier>
indique l'emplacement du fichier d'environnement (voir MODULES).
défaut :
.I aucun

.TP
-A nosys
l'action est effectuée pour tous les modules qui n'ont pas le préfixe 
.B sys.
A utiliser à la place de <module>.

.TP
-A allsys
l'action est effectuée sur tous les modules.
A utiliser à la place de <module>.

.TP
-v
affiche la version du programme
.B backup.sh.

.TP
-?
affiche le message d'aide.

.SH COMMANDS
.TP 2
launch
lance l'action (commande par défaut)
 
.SH MODULES
Un module correspond à un fichier qui décrit comment exporter ou importer les données d'un composant.
C'est un fichier script avec un format particulier (voir ci-dessous).
Ce fichier contient des fonctions shell et une description.
Un fichier d'environnement peut être utilisé pour conserver des paramètres ou des fonctions globales. 


.SS Fichier d'environnement
C'est un script optionnel lancé dans le shell courant (avec la commande 
.B . (point) 
). Ce fichier doit être indiqué avec l'option 
.B -E 

.SS Nom du fichier
Le fichier module doit présent dans un répertoire (par défaut 
.I check-modules
) en suivant un de ces formats :
.I <nombre>_<nom>
ou
.I <nombre>_sys_<nom>
où 
.TP 2
<nombre>
est un nombre. Il indique l'ordre d'exportation du module quand l'option 
.B -A 
est utilisée.
.TP
<nom>
est le nom que vous voulez.
.TP
sys
est utilisé pour indiquer un module système.

.SS Modules Systèmes
Un module système représente un composant utilisé globalement sur la machine, comme un 
.I serveur ldap
ou un 
.I serveur dns 
c'est à dire quand l'arrêt du composant a un impact sur l'ensemble de la machine et des autres applications.


Ci-dessous, un modèle pour les fichiers :

 #!/bin/sh

 # ################################################# #
 # NNNA description décrivez ici votre module        #
 # NNNA author      vous                             #
 # NNNA version     version du script                #
 # ################################################# #

 fn_launch()
 {
   return 0 #ok
 }

.SH AUTHOR
3Zen

.SH SEE ALSO
.BR admin.sh(1),
.BR backup.sh(1),
.BR launch.sh(1)
